{"version":3,"sources":["/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas-routing.module.ts","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.html","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.scss","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.ts","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.module.ts","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.html","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.scss","/home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.ts"],"names":[],"mappings":"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","file":"image-canvas.module.chunk.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {ImageCanvasComponent} from \"./image-canvas.component\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ImageCanvasComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ImageCanvasRoutingModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas-routing.module.ts","module.exports = \"<div class=\\\"wrapper_image\\\">\\n    <img #avatar src=\\\"assets/the-good-life.jpg\\\" alt=\\\"avatar\\\" class=\\\"img\\\">\\n</div>\\n<div class=\\\"upload\\\">\\n    <input type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\">\\n</div>\\n<ng-container *ngIf=\\\"openModal\\\">\\n    <app-modal\\n            [fileUpload]= \\\"fileUpload\\\"\\n            [showModal]=\\\"openModal\\\"\\n            (dataUrl)=\\\"dataUrl($event)\\\"\\n            (typeModal)=\\\"closeModal($event)\\\">\\n    </app-modal>\\n</ng-container>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.html\n// module id = ../../../../../src/app/image-canvas/image-canvas.component.html\n// module chunks = image-canvas.module","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wrapper_image {\\n  width: 560px;\\n  height: 460px;\\n  margin: 0 auto;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center; }\\n\\n.img {\\n  width: 200px;\\n  height: 200px;\\n  transition: all .4s;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  opacity: 1; }\\n\\n.img.active {\\n  box-shadow: 0 0 0 2px black;\\n  opacity: .7;\\n  -webkit-transform: scale(0.95);\\n          transform: scale(0.95); }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.scss\n// module id = ../../../../../src/app/image-canvas/image-canvas.component.scss\n// module chunks = image-canvas.module","import {AfterViewInit, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\n\n@Component({\n    selector: 'app-image-canvas',\n    templateUrl: './image-canvas.component.html',\n    styleUrls: ['./image-canvas.component.scss']\n})\nexport class ImageCanvasComponent implements OnInit, AfterViewInit {\n    @ViewChild('avatar') avatar: ElementRef;\n\n\n    openModal: boolean;\n    fileUpload: FileList;\n\n    constructor() {\n\n    }\n\n    ngOnInit() {\n\n    }\n\n    ngAfterViewInit() {\n        const avatar = this.avatar.nativeElement;\n        avatar.ondragover = (e) => {\n            e.preventDefault();\n            avatar.classList.add('active');\n        };\n        avatar.ondragleave= (e) => {\n            e.preventDefault();\n            avatar.classList.remove('active');\n        };\n        avatar.ondrop = (e) => {\n            e.preventDefault();\n            avatar.classList.remove('active');\n            let files : FileList= e.dataTransfer.files;\n            e.dataTransfer.clearData();\n            if(files.length > 0) {\n                this.openModal = true;\n                this.fileUpload = files;\n            }\n        };\n    }\n\n    closeModal(e) {\n        this.openModal = e;\n    }\n\n    onFileChange(e) {\n        let files: FileList = e.target.files;\n        this.fileUpload = files;\n        this.openModal = true;\n    }\n\n    dataUrl(e) {\n        console.log(e);\n        let image = this.avatar.nativeElement;\n        image.src = e.url;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ImageCanvasRoutingModule } from './image-canvas-routing.module';\nimport { ImageCanvasComponent } from './image-canvas.component';\nimport { ModalComponent } from './modal/modal.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ImageCanvasRoutingModule,\n\n  ],\n  declarations: [\n      ImageCanvasComponent,\n      ModalComponent\n  ]\n})\nexport class ImageCanvasModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/image-canvas.module.ts","module.exports = \"<ng-container *ngIf=\\\"showModal\\\">\\n    <div class=\\\"wrapper_modal\\\">\\n        <h3 class=\\\"wrapper_title\\\">Edit Image</h3>\\n        <div class=\\\"wrapper_content\\\">\\n            <canvas (mousemove)=\\\"onMouseMove($event)\\\" (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\" #mycanvas id=\\\"mycanvas\\\" width=\\\"400px\\\" height=\\\"400px\\\"></canvas>\\n        </div>\\n        <div class=\\\"wrapper_editor\\\">\\n            <div class=\\\"input\\\">\\n                <input type=\\\"range\\\" (input)=\\\"scaleImage($event)\\\" min=\\\"0.1\\\" max=\\\"2.0\\\" step='0.01'  value=\\\"1.0\\\">\\n            </div>\\n            <div class=\\\"btn\\\">\\n                <button class=\\\"btn-cancel\\\" (click)=\\\"closeModal()\\\">Cancel</button>\\n                <button class=\\\"btn-save\\\" (click)=\\\"saveImage()\\\">Save</button>\\n            </div>\\n        </div>\\n    </div>\\n</ng-container>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.html\n// module id = ../../../../../src/app/image-canvas/modal/modal.component.html\n// module chunks = image-canvas.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wrapper_modal {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  z-index: 99999;\\n  background: #E9EBE7; }\\n\\n.wrapper_title {\\n  font-size: 14px;\\n  line-height: 14px;\\n  color: #484742;\\n  font-weight: 700;\\n  border-bottom: 1px solid #ED5B00;\\n  padding-bottom: 12px;\\n  padding-left: 12px;\\n  margin-bottom: 0; }\\n\\n.wrapper_editor {\\n  padding: 12px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  border-top: 1px solid #ED5B00; }\\n\\n.input {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  text-align: center; }\\n\\n.btn {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex; }\\n  .btn button {\\n    border-radius: 2px;\\n    border: none;\\n    padding: 2px 8px;\\n    box-shadow: 0 0 0 1px #B7C9BE; }\\n  .btn-cancel {\\n    color: #4A534B;\\n    background: transparent; }\\n  .btn-save {\\n    color: #ffffff;\\n    background: #46FF85;\\n    margin-left: 5px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.scss\n// module id = ../../../../../src/app/image-canvas/modal/modal.component.scss\n// module chunks = image-canvas.module","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\n\n@Component({\n    selector: 'app-modal',\n    templateUrl: './modal.component.html',\n    styleUrls: ['./modal.component.scss']\n})\nexport class ModalComponent implements OnInit, AfterViewInit {\n    @ViewChild('mycanvas') mycanvas: ElementRef;\n    @Input() showModal: boolean;\n    @Input() fileUpload: FileList;\n    @Output() typeModal: EventEmitter<boolean> = new EventEmitter<boolean>();\n    @Output() dataUrl: EventEmitter<any> = new EventEmitter<any>();\n    clickCanvas: boolean = false;\n    scale: number = 1;\n    baseX: number = 0;\n    baseY: number = 0;\n    lastPointX: number = 0;\n    lastPointY: number = 0;\n    cutoutWidth: number = 100;\n    windowWidth: number = 200;\n    imageUpload: HTMLImageElement = new Image();\n\n    // (400 - windowWidth) / 2 = cutoutWidth\n    constructor() {\n    }\n\n    ngOnInit() {\n\n    }\n\n    ngAfterViewInit() {\n        let files: FileList = this.fileUpload;\n        let url = window.URL,\n            srcImg = url.createObjectURL(files[0]);\n        this.imageUpload.onload = () => {\n            url.revokeObjectURL(srcImg);\n            this.canvasImage(this.imageUpload);\n            this.drawImageCanvas(0, 0);\n        };\n        this.imageUpload.src = srcImg;\n    }\n\n    canvasImage(image) {\n        const canvas = this.mycanvas.nativeElement;\n        const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n        ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n    };\n\n    drawImageCanvas(x, y) {\n        const canvas = this.mycanvas.nativeElement;\n        const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        this.baseX = this.baseX + (x - this.lastPointX);\n        this.baseY = this.baseY + (y - this.lastPointY);\n        this.lastPointX = x;\n        this.lastPointY = y;\n        let imageWidth = Math.floor(this.imageUpload.width * this.scale);\n        let imageHeight = Math.floor(this.imageUpload.height * this.scale);\n        ctx.drawImage(this.imageUpload, this.baseX, this.baseY, imageWidth, imageHeight);\n        this.drawCutout();\n    }\n\n    drawCutout() {\n        const canvas = this.mycanvas.nativeElement;\n        const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n        ctx.fillStyle = 'rgba(128, 128, 128, 0.7)';\n        ctx.beginPath();\n        ctx.rect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.moveTo(this.cutoutWidth, this.cutoutWidth);\n        ctx.lineTo(this.cutoutWidth, this.cutoutWidth + this.windowWidth);\n        ctx.lineTo(this.cutoutWidth + this.windowWidth, this.cutoutWidth + this.windowWidth);\n        ctx.lineTo(this.cutoutWidth + this.windowWidth, this.cutoutWidth);\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    onMouseDown(e) {\n        e.preventDefault();\n        let loc = this.windowToCanvas(e.clientX, e.clientY);\n        this.clickCanvas = true;\n        this.lastPointX = loc.x;\n        this.lastPointY = loc.y;\n    }\n\n    onMouseMove(e) {\n        e.preventDefault();\n        if (this.clickCanvas) {\n            let loc = this.windowToCanvas(e.clientX, e.clientY);\n            this.drawImageCanvas(loc.x, loc.y);\n        }\n    }\n\n    onMouseUp(e) {\n        e.preventDefault();\n        this.clickCanvas = false;\n    }\n\n    windowToCanvas(x, y) {\n        const canvas = this.mycanvas.nativeElement;\n        const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n        let bbox = ctx.canvas.getBoundingClientRect();\n        return {\n            x: x - bbox.left * (ctx.canvas.width / bbox.width),\n            y: y - bbox.top * (ctx.canvas.height / bbox.height),\n        }\n    }\n\n    scaleImage(e) {\n        let valueScale = e.target.value;\n        this.scale = valueScale;\n        this.drawImageCanvas(this.lastPointX, this.lastPointY);\n    }\n\n    saveImage() {\n        const canvas = this.mycanvas.nativeElement;\n        const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n        const new_canvas = document.createElement('canvas');\n        const new_ctx: CanvasRenderingContext2D = new_canvas.getContext('2d');\n        new_canvas.height = new_canvas.width = this.windowWidth;\n        new_ctx.drawImage(ctx.canvas, this.cutoutWidth, this.cutoutWidth, this.windowWidth, this.windowWidth, 0, 0, this.windowWidth, this.windowWidth);\n        let data = new_canvas.toDataURL();\n        new_canvas.toBlob((result: Blob) => {\n            let files = new File([result], this.fileUpload[0].name, {lastModified: Date.now(), type: 'image/png'});\n            this.dataUrl.emit({\n                url: data,\n                files: files,\n            });\n            this.typeModal.emit(false);\n        });\n\n    }\n\n    closeModal() {\n        this.typeModal.emit(false);\n    }\n\n    // renderImage(files, images) {\n    //     // let avatar = this.avatar.nativeElement;\n    //     // image.src = '../../../assets/the-good-life.jpg';\n    //     // this.renderImage(files,avatar);\n    //     let reader: FileReader = new FileReader();\n    //     reader.onload = () => {\n    //         images.src = reader.result;\n    //     };\n    //     reader.readAsDataURL(files[0]);\n    // }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /home/remynguyen/Desktop/angular4/minimal/src/app/image-canvas/modal/modal.component.ts"],"sourceRoot":"webpack:///"}